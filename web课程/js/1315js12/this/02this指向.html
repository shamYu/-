<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		<input type="button" id="btn" value="按钮" />
	</body>
	<script type="text/javascript">		
		var oBtn=document.getElementById("btn");
//--------------------------------------------------------------------------------
//		var fn=function() {
//			console.log('打印1',this);//oBtn
//			return function(){
//				console.log('打印2',this);
//			}
//		}
//		oBtn.onclick=fn;//第一个this是oBtn。第二个this不会有指向，因为其所在的函数永远没办法调用。
//		oBtn.onclick=fn();//运行时第一个this是window，点击时第二个this是oBtn。
//--------------------------------------------------------------------------------
//		var fn=(function () {
//			console.log(this);
//			return function(){
//				console.log(this);
//			}
//		})();
		
//		oBtn.onclick=fn;//第二个this指向oBtn，第一个this是window
//		oBtn.onclick=fn();//点击无效果，因为事件得到的值是undefined。因为fn是return出来的函数
//-------------------------------------------------------------------------------
//		var fn=(function () {
//			console.log(this);
//			return function(){
//				console.log(this);
//			}
//		})();
		
//		oBtn.onclick=fn;//第二个this指向oBtn，第一个this是window
//		oBtn.onclick=fn.call(document.body);//只打印一次document.body,点击事件依然没有效果
//---------------------------------------------------------------------------------
//		var fn=(function (obj) {
//			console.log(obj);
//			return function(){
//				console.log(obj);
//			}
//		})(window);
		
//		oBtn.onclick=fn;//每次按钮点击访问一个闭包变量，闭包变量内存中只有一个，就是当初传值的window
//		oBtn.onclick=fn();//打印一次window。点击事件无效果。
//----------------------------------------------------------------------------------	
//		document.body.onclick=function () {
//			console.log(this);
//			oBtn.onclick=function () {
//				console.log(this)
//			}
//		}
//----------------------------------------------------------------------------------
		document.body.onclick=function () {
			console.log(this);//body
			var _this=this;
			oBtn.onclick=function () {
				console.log(_this);//body
			}
		}
//---------------------------------------------------------------------------------
		
	</script>
</html>
